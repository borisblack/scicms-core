coreVersion: v1
kind: Item
includeTemplates:
  - defaultItemTemplate
metadata:
  name: part
  dataSource: main
  tableName: parts
  displayName: Part
  singularName: part
  pluralName: parts
  description: Parts
  icon: fas fa-swatchbook
  core: true
  performDdl: true
  versioned: true
  manualVersioning: false
#  revisionPolicy: 48fea283-2872-4ca3-8fbd-980b7654907b # optional (null by default)
  notLockable: false
  localized: true
  implementation: ru.scisolutions.itemimpl.PartItemImplementation # optional (null by default)
spec:
  attributes:
    name:
      type: string
      columnName: name
      displayName: Name
      description: Name
      length: 50
      required: true
      unique: true
    displayName:
      type: string
      columnName: display_name
      displayName: Display Name
      description: Display Name
      length: 50
    description:
      type: string
      columnName: description
      displayName: Description
      description: Description
      length: 250
    product:
      type: relation
      columnName: product_id
      target: product
      relType: manyToOne
      inversedBy: parts
      displayName: Product
      description: Product
    partType:
      type: enum
      columnName: part_type
      enumSet:
        - Сборка
        - Компонент
        - Материал
        - Программа
      displayName: Part Type
      description: Part Type
    ownershipType:
      type: enum
      columnName: ownership_type
      enumSet:
        - Разработанное
        - Заимствованное
        - Покупное
      displayName: Ownership Type
      description: Ownership Type
    units:
      type: enum
      columnName: units
      enumSet:
        - Шт
        - Кг
      displayName: Units
      description: Units
    cost:
      type: decimal
      columnName: cost
      displayName: Cost
      description: Cost
      precision: 14
      scale: 4
      minRange: 0
    weight:
      type: decimal
      columnName: weight
      displayName: Weight
      description: Weight
      precision: 14
      scale: 4
      minRange: 0
    releaseDate:
      type: datetime
      columnName: release_date
      displayName: Release Date
      description: Release Date
    effectiveDate:
      type: datetime
      columnName: effective_date
      displayName: Effective Date
      description: Effective Date
    supersededDate:
      type: datetime
      columnName: superseded_date
      displayName: Superseded Date
      description: Superseded Date
    startSheet:
      type: relation
      columnName: start_sheet_id
      target: startSheet
      relType: manyToOne
      inversedBy: parts
      displayName: Start Sheet
      description: Start Sheet
    changeNotices:
      type: relation
      target: changeNotice
      relType: manyToMany
      relItem: partChange
      inversedBy: parts
      displayName: Change Notices
      description: Change Notices
    partBOM:
      type: relation
      target: part
      relType: manyToMany
      relItem: partBOM
      displayName: Part BOM
      description: Part BOM
