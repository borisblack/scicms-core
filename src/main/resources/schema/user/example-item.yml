coreVersion: v1
kind: Item
includeTemplates:
  - defaultItemTemplate
metadata:
  name: example # item name must start with a lowercase character!
  dataSource: main # optional ('main' by default)
  tableName: examples # optional (pluralName in lowercase by default). Prefixes core_ and sec_ are not allowed
  displayName: Example # optional (name by default)
  singularName: example # optional (name by default)
  pluralName: examples
  description: Examples # optional (null by default)
  icon: fas fa-swatchbook # optional (null by default)
  core: true # optional (false by default)
  performDdl: false # optional (true by default)
  versioned: false # optional (false by default)
  manualVersioning: false # optional (false by default)
#  revisionPolicy: 48fea283-2872-4ca3-8fbd-980b7654907b # optional (null by default)
  notLockable: false # optional (false by default)
  localized: false # optional (false by default)
  implementation: ru.scisolutions.userimpl.item.ExampleItemImplementation  # optional (null by default)
spec:
  attributes:
    name:
      type: string  # uuid, string, text, enum, sequence, email, password, int, long, float, double, decimal, date, time, datetime, timestamp, bool, array, json, media, relation
      columnName: name # optional (lowercase attribute name is used in database by default), also can be null for oneToMany and manyToMany relations
      displayName: Name # optional (name by default)
      description: Name # optional (null by default)
#      pattern: # optional (null by default) - string
#      defaultValue: # optional (null by default)
      required: true # optional (false by default)
      unique: true # optional (false by default). Additional columns may be added to the unique index depending on configuration parameters (versioning.include-in-unique-index and i18n.include-in-unique-index) and attributes (versioned and localized). If other logic is needed, use the indexes section
      indexed: false # optional (false by default)
      private: false # optional (false by default)
      length: 50 # optional (null by default) - string
#      precision: # optional (null by default) - decimal
#      scale: # optional (null by default) - decimal
#      minRange: # optional (null by default) - int, long, float, double, decimal
#      maxRange: # optional (null by default) - int, long, float, double, decimal
    displayName:
      type: string
      columnName: display_name
      displayName: Display Name
      description: Display Name
      length: 50
    description:
      type: string
      columnName: description
      displayName: Description
      description: Description
      length: 250
    product:
      type: relation
      relType: manyToOne # oneToOne, oneToMany, manyToOne, manyToMany
      target: product # by default, id is used as the key attribute for target. But for oneToOne and manyToOne relations another key attribute can be specified in brackets, for example, product(code)
#      intermediate: # intermediate item is used for manyToMany association and includes source and target attributes
#      mappedBy: # in bidirectional relations, the owning side declares the inversedBy key while the inversed side declares the mappedBy key
      inversedBy: parts
      columnName: product_id
      displayName: Product
      description: Product
    partType:
      type: enum
      columnName: part_type
      enumSet:
        - Assembly
        - Part
      displayName: Part Type
      description: Part Type
    ownershipType:
      type: enum
      columnName: ownership_type
      enumSet:
        - Manufactured
        - Borrowed
        - Bought
      displayName: Ownership Type
      description: Ownership Type
    units:
      type: enum
      columnName: units
      enumSet:
        - pcs
        - kg
      displayName: Units
      description: Units
    cost:
      type: decimal
      columnName: cost
      displayName: Cost
      description: Cost
      precision: 14
      scale: 4
      minRange: 0
    weight:
      type: decimal
      columnName: weight
      displayName: Weight
      description: Weight
      precision: 14
      scale: 4
      minRange: 0
    releaseDate:
      type: datetime
      columnName: release_date
      displayName: Release Date
      description: Release Date
    effectiveDate:
      type: datetime
      columnName: effective_date
      displayName: Effective Date
      description: Effective Date
    supersededDate:
      type: datetime
      columnName: superseded_date
      displayName: Superseded Date
      description: Superseded Date
    startSheet:
      type: relation
      relType: manyToOne
      target: startSheet
      inversedBy: parts
      columnName: start_sheet_id
      displayName: Start Sheet
      description: Start Sheet
  indexes:
    examples_name_uk: # if the index name begins with _, it will be prefixed by the tableName
      columns: # the index will be created with the specified columns only (without additional version or locale columns)
        - name
      unique: true