<?xml version="1.0" encoding="UTF-8"?>
<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
                   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                   xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog
                   http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-4.4.xsd">
    <property name="now" value="sysdate" dbms="oracle"/>
    <property name="now" value="now()" dbms="mysql"/>
    <property name="now" value="now()" dbms="postgresql"/>
    <property name="defaultRevisionPolicyId" value="48fea283-2872-4ca3-8fbd-980b7654907b"/>
    <property name="rootUserId" value="0c924266-3c61-4362-81d7-9d69403fbe32"/>
    <property name="defaultPermissionId" value="6fd701bf-87e0-4aca-bbfd-fe1e9f85fc71"/>
    <property name="defaultLifecycleId" value="ad051120-65cf-440a-8fc3-7a24ac8301d3"/>
    <changeSet id="2022-01-03-init-core-data" author="bchernysh">
        <insert tableName="core_locales">
            <column name="id" value="d81fd69a-1834-4ee5-9afa-e20151f804c5"/>
            <column name="config_id" value="d81fd69a-1834-4ee5-9afa-e20151f804c5"/>
            <column name="name" value="en-US"/>
            <column name="display_name" value="English"/>
            <column name="generation" value="1"/>
            <column name="major_rev" value="A"/>
            <column name="is_current" value="1"/>
            <column name="permission_id" value="${defaultPermissionId}"/>
            <column name="created_at" valueDate="${now}"/>
            <column name="created_by_id" value="${rootUserId}"/>
        </insert>

        <insert tableName="core_locales">
            <column name="id" value="afcedcba-124c-46ae-a791-d986aa26ed9a"/>
            <column name="config_id" value="afcedcba-124c-46ae-a791-d986aa26ed9a"/>
            <column name="name" value="ru-RU"/>
            <column name="display_name" value="Russian"/>
            <column name="generation" value="1"/>
            <column name="major_rev" value="A"/>
            <column name="is_current" value="1"/>
            <column name="permission_id" value="${defaultPermissionId}"/>
            <column name="created_at" valueDate="${now}"/>
            <column name="created_by_id" value="${rootUserId}"/>
        </insert>

        <insert tableName="core_revision_policies">
            <column name="id" value="${defaultRevisionPolicyId}"/>
            <column name="config_id" value="${defaultRevisionPolicyId}"/>
            <column name="name" value="Default"/>
            <column name="display_name" value="Default"/>
            <column name="revisions" value="A B C D E F G H J K L M N P Q R S T U V W X Y Z"/>
            <column name="generation" value="1"/>
            <column name="major_rev" value="A"/>
            <column name="is_current" value="1"/>
            <column name="permission_id" value="${defaultPermissionId}"/>
            <column name="created_at" valueDate="${now}"/>
            <column name="created_by_id" value="${rootUserId}"/>
        </insert>

        <insert tableName="core_lifecycles">
            <column name="id" value="${defaultLifecycleId}"/>
            <column name="config_id" value="${defaultLifecycleId}"/>
            <column name="name" value="Default Lifecycle"/>
            <column name="display_name" value="Default Lifecycle"/>
            <column name="start_state" value="draft"/>
            <column name="implementation" value="ru.scisolutions.userimpl.lifecycle.DefaultLifecycleImpl"/>
            <column name="spec" value='{"states": {"draft": {"displayName": "Draft", "transitions": ["published"]}, "published": {"displayName": "Published"}}}'/>
            <column name="generation" value="1"/>
            <column name="major_rev" value="A"/>
            <column name="is_current" value="1"/>
            <column name="permission_id" value="${defaultPermissionId}"/>
            <column name="created_at" valueDate="${now}"/>
            <column name="created_by_id" value="${rootUserId}"/>
        </insert>

        <insert tableName="core_items_lock">
            <column name="id" value="1"/>
            <column name="locked" value="0"/>
        </insert>
    </changeSet>
</databaseChangeLog>